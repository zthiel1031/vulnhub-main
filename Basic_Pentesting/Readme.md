# This is the write up for the Vulnhub box Basic Pentesting: 1

### The goal of this box is to gain root access



Box Ip Address: 10.38.1.111

Attacking Machine Ip: 10.38.1.110

## **Information Gathering**
---

On first boot up of the box we are greeted with this screen:

![](Images/box_login.JPG)

So we can assume we need to somehow gain access to the user `Marlinspike`

---
Starting with an Nmap port Scan we see this output:

![](Images/nmap.JPG)

We can see the ports open for this box are port 21 `ftp`, port 22 `ssh`, and port 80 `http`.

Port 80 is open so we can make an assumption that this is a web server.

If we navigate in the browser to the address we see this.

![](Images/main_web.JPG)

Next we can use this command to search for any other directories.

```
gobuster dir -u 10.38.1.111 -w /usr/share/wordlists/dirb/common.txt
```

Where we see these results:

![](Images/gobust.JPG)

The `/secret` directiory looks interesting but if we navigate to it we see this:

![](Images/wp_nohost.JPG)

We can see that the page isn't loading quite right.

In order to make the page load correctly we need to add the address to the `/etc/hosts` file. We can also look at the source code for the name of the host:

![](Images/secret_source.JPG)

It looks like the hosts name is vtcsec.

We can enter this command to change the `hosts` file:
```
sudo nano /etc/hosts
```

And then under the `localhost` and `kali` addresses we can add this:

```
10.38.1.111    vtcsec
```

Now if we reload the webpage we are rewarded with a nice looking webpage.

![](Images/wp_host.JPG)

We can click on the only post that has been made and are reward with our first user `admin`

![](Images/admin_tip.JPG)

Scrolling to the bottom of the page we see that there is a button to login in, if we click on it we are taken to this login page"

![](Images/wp_login.JPG)

We can use hydra in an attempt to brute force the password using the user `admin` and the wordlist `rockyou.txt`

```
hydra -v -l admin -P /usr/share/wordlists/rockyou.txt 10.38.1.111 http-post-form '/secret/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log+In:F=is incorrect'
```

After a few minutes we are rewarded with this result:

![](Images/hydra_wplogin_admin.JPG)

It seems the user `admin` currently has the password `admin`

After having no luck trying to exploit the `php` we can turn our attention to other means.

Remembering our `nmap` we can search for `proftpd` in the `msf` console.

![](Images/meta_search.JPG)

![](Images/nmap.JPG)

Since we are running `ftpd 1.3.3c` lets use the backdoor exploit.

Once we select our exploit we then can use the `options` command to see our hosts. Which we then have to change out `RHOST` to match the box ip.

![](Images/bkdr_rhosts.JPG)

We then need to set our `LHOST`

![](Images/ms_lhost.JPG)

After which we can run `exploit` and we can see the screenshot below shows us getting areverse shell as the user root.

We can then `cat /etc/shadow` to get our user `marlinspike`'s password hash.

And if we use `JohntheRipper` we can crack that hash.

![](Images/marlinspike_passwd.JPG)

Now we can `ssh` into the box as `marlin` spike using the password `marlinspike`

![](Images/root_baby.JPG)

And we are in!!! we then can `sudo su` to switch to root and type in `marlinspike`'s password.

We now have root access!!!

# Congratulations!!!

#### Thanks so much for coming along on this journey with me